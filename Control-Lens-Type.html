<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Lens.Type</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Lens-Type.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Control-Lens-Type.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-3.8: Lenses, Folds and Traversals</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>Rank2Types</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Control.Lens.Type</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lenses, Folds and Traversals
</a></li><li><a href="#g:2">Indexed Variants
</a></li><li><a href="#g:3">Common
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Lens">Lens</a> s t a b = <span class="keyword">forall</span> f. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:Lens-39-">Lens'</a> s a = <a href="Control-Lens-Type.html#t:Lens">Lens</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Traversal">Traversal</a> s t a b = <span class="keyword">forall</span> f. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:Traversal-39-">Traversal'</a> s a = <a href="Control-Lens-Type.html#t:Traversal">Traversal</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Iso">Iso</a> s t a b = <span class="keyword">forall</span> p f. (<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/profunctors-3.1.1/doc/html/Data-Profunctor.html#t:Profunctor">Profunctor</a> p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f) =&gt; p a (f b) -&gt; p s (f t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Iso-39-">Iso'</a> s a = <a href="Control-Lens-Type.html#t:Iso">Iso</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Prism">Prism</a> s t a b = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Prism.html#t:Prismatic">Prismatic</a> p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f b) -&gt; p s (f t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Prism-39-">Prism'</a> s a = <a href="Control-Lens-Type.html#t:Prism">Prism</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Setter">Setter</a> s t a b = <span class="keyword">forall</span> f. <a href="Control-Lens-Internal.html#t:Settable">Settable</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:Setter-39-">Setter'</a> s a = <a href="Control-Lens-Type.html#t:Setter">Setter</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Equality">Equality</a> s t a b = <span class="keyword">forall</span> p f.  p a (f b) -&gt; p s (f t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Equality-39-">Equality'</a> s a = <a href="Control-Lens-Type.html#t:Equality">Equality</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Getter">Getter</a> s a = <span class="keyword">forall</span> f. <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f =&gt; (a -&gt; f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Fold">Fold</a> s a = <span class="keyword">forall</span> f. (<a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; (a -&gt; f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Action">Action</a> m s a = <span class="keyword">forall</span> f r. <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f =&gt; (a -&gt; f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadicFold">MonadicFold</a> m s a = <span class="keyword">forall</span> f r. (<a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; (a -&gt; f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedLens">IndexedLens</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f) =&gt; p a (f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedLens-39-">IndexedLens'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedLens">IndexedLens</a> i s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedTraversal">IndexedTraversal</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedTraversal-39-">IndexedTraversal'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedTraversal">IndexedTraversal</a> i s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedSetter">IndexedSetter</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Settable">Settable</a> f) =&gt; p a (f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedSetter-39-">IndexedSetter'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedSetter">IndexedSetter</a> i s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedGetter">IndexedGetter</a> i s a = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f) =&gt; p a (f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedFold">IndexedFold</a> i s a = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f, <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f) =&gt; p a (f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedAction">IndexedAction</a> i m s a = <span class="keyword">forall</span> p f r. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f) =&gt; p a (f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedMonadicFold">IndexedMonadicFold</a> i m s a = <span class="keyword">forall</span> p f r. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Simple">Simple</a> f s a = f s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:LensLike">LensLike</a> f s t a b = (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:LensLike-39-">LensLike'</a> f s a = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> f s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedLensLike">IndexedLensLike</a> p f s t a b = p a (f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:IndexedLensLike-39-">IndexedLensLike'</a> p f s a = p a (f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Overloading">Overloading</a> p q f s t a b = p a (f b) -&gt; q s (f t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Overloading-39-">Overloading'</a> p q f s a = <a href="Control-Lens-Type.html#t:Overloading">Overloading</a> p q f s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Overloaded">Overloaded</a> p f s t a b = p a (f b) -&gt; p s (f t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Overloaded-39-">Overloaded'</a> p f s a = <a href="Control-Lens-Type.html#t:Overloaded">Overloaded</a> p f s s a a</li></ul></div><div id="interface"><h1 id="g:1">Lenses, Folds and Traversals
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Lens" class="def">Lens</a> s t a b = <span class="keyword">forall</span> f. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#Lens" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> is actually a lens family as described in
 <a href="http://comonad.com/reader/2012/mirrored-lenses/">http://comonad.com/reader/2012/mirrored-lenses/</a>.
</p><p>With great power comes great responsibility and a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> is subject to the
 three common sense lens laws:
</p><p>1) You get back what you put in:
</p><pre><code><a href="Control-Lens-Getter.html#v:view">view</a></code> l (<code><a href="Control-Lens-Setter.html#v:set">set</a></code> l b a)  &#8801; b</pre><p>2) Putting back what you got doesn't change anything:
</p><pre><code><a href="Control-Lens-Setter.html#v:set">set</a></code> l (<code><a href="Control-Lens-Getter.html#v:view">view</a></code> l a) a  &#8801; a</pre><p>3) Setting twice is the same as setting once:
</p><pre><code><a href="Control-Lens-Setter.html#v:set">set</a></code> l c (<code><a href="Control-Lens-Setter.html#v:set">set</a></code> l b a) &#8801; <code><a href="Control-Lens-Setter.html#v:set">set</a></code> l c a</pre><p>These laws are strong enough that the 4 type parameters of a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> cannot
 vary fully independently. For more on how they interact, read the &quot;Why is
 it a Lens Family?&quot; section of
 <a href="http://comonad.com/reader/2012/mirrored-lenses/">http://comonad.com/reader/2012/mirrored-lenses/</a>.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> can be used directly as a <code><a href="Control-Lens-Setter.html#t:Setter">Setter</a></code> or
 <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>.
</p><p>You can also use a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> for <code><a href="Control-Lens-Getter.html#t:Getting">Getting</a></code> as if it were a
 <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> or <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code>.
</p><p>Since every lens is a valid <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>, the
 traversal laws are required of any lenses you create:
</p><pre>
 l <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code> &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code>
 <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#v:fmap">fmap</a></code> (l f) <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> l g &#8801; <code><a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Data-Functor-Compose.html#v:getCompose">getCompose</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> l (<code><a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Data-Functor-Compose.html#t:Compose">Compose</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#v:fmap">fmap</a></code> f <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> g)
</pre><pre>type <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> s t a b = forall f. <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a></code> f =&gt; <code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f s t a b</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Lens-39-" class="def">Lens'</a> s a = <a href="Control-Lens-Type.html#t:Lens">Lens</a> s s a a<a href="src/Control-Lens-Type.html#Lens%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code></pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Traversal" class="def">Traversal</a> s t a b = <span class="keyword">forall</span> f. <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#Traversal" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> can be used directly as a <code><a href="Control-Lens-Setter.html#t:Setter">Setter</a></code> or a <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> (but not as a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>) and provides
 the ability to both read and update multiple fields, subject to some relatively weak <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> laws.
</p><p>These have also been known as multilenses, but they have the signature and spirit of
</p><pre><code>traverse</code> :: <code>Traversable</code> f =&gt; <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> (f a) (f b) a b</pre><p>and the more evocative name suggests their application.
</p><p>Most of the time the <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> you will want to use is just <code>traverse</code>, but you can also pass any
 <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> or <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code> as a <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>, and composition of a <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> (or <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> or <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code>) with a <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> (or <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> or <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code>)
 using (.) forms a valid <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>.
</p><p>The laws for a Traversal <code>t</code> follow from the laws for Traversable as stated in &quot;The Essence of the Iterator Pattern&quot;.
</p><pre>
 t <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code> &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code>
 <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#v:fmap">fmap</a></code> (t f) <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> t g &#8801; <code><a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Data-Functor-Compose.html#v:getCompose">getCompose</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> t (<code><a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Data-Functor-Compose.html#t:Compose">Compose</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#v:fmap">fmap</a></code> f <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> g)
</pre><p>One consequence of this requirement is that a <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> needs to leave the same number of elements as a
 candidate for subsequent <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> that it started with. Another testament to the strength of these laws
 is that the caveat expressed in section 5.5 of the &quot;Essence of the Iterator Pattern&quot; about exotic
 <code>Traversable</code> instances that <code>traverse</code> the same entry multiple times was actually already ruled out by the
 second law in that same paper!
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Traversal-39-" class="def">Traversal'</a> s a = <a href="Control-Lens-Type.html#t:Traversal">Traversal</a> s s a a<a href="src/Control-Lens-Type.html#Traversal%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:Traversal-39-">Traversal'</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code></pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Iso" class="def">Iso</a> s t a b = <span class="keyword">forall</span> p f. (<a href="/Users/ekmett/Library/Haskell/ghc-7.4.1/lib/profunctors-3.1.1/doc/html/Data-Profunctor.html#t:Profunctor">Profunctor</a> p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f) =&gt; p a (f b) -&gt; p s (f t)<a href="src/Control-Lens-Type.html#Iso" class="link">Source</a></p><div class="doc"><p>Isomorphism families can be composed with other lenses using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) and <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:id">id</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Iso-39-" class="def">Iso'</a> s a = <a href="Control-Lens-Type.html#t:Iso">Iso</a> s s a a<a href="src/Control-Lens-Type.html#Iso%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:Iso-39-">Iso'</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code></pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Prism" class="def">Prism</a> s t a b = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Prism.html#t:Prismatic">Prismatic</a> p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f b) -&gt; p s (f t)<a href="src/Control-Lens-Type.html#Prism" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> <code>l</code> is a 0-or-1 target <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> that can also be turned around with <code>remit</code> to
 obtain a <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> in the opposite direction.
</p><p>There are two laws that a <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> should satisfy:
</p><p>First, if I <code>remit</code> or <code><a href="Control-Lens-Prism.html#v:review">review</a></code> a value with a <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> and then <code><a href="Control-Lens-Prism.html#v:preview">preview</a></code> or use (<code>^?</code>), I will get it back:
</p><ul><li><pre><code><a href="Control-Lens-Prism.html#v:preview">preview</a></code> l (<code><a href="Control-Lens-Prism.html#v:review">review</a></code> l b) &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#v:Just">Just</a></code> b</pre></li></ul><p>Second, if you can extract a value <code>a</code> using a Prism <code>l</code> from a value <code>s</code>, then the value <code>s</code> is completely described my <code>l</code> and <code>a</code>:
</p><ul><li> If <code><code><a href="Control-Lens-Prism.html#v:preview">preview</a></code> l s &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#v:Just">Just</a></code> a</code> then <code><code><a href="Control-Lens-Prism.html#v:review">review</a></code> l a &#8801; s</code>
</li></ul><p>These two laws imply that the <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> laws hold for every <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> and that we <code>traverse</code> at most 1 element:
</p><pre><code><a href="Control-Lens-Fold.html#v:lengthOf">lengthOf</a></code> l x <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#v:-60--61-">&lt;=</a></code> 1</pre><p>It may help to think of this as a <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code> that can be partial in one direction.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> is a valid <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Iso">Iso</a></code> is a valid <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code>.
</p><p>For example, you might have a <code><code><a href="Control-Lens-Type.html#t:Prism-39-">Prism'</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code> Natural</code> allows you to always
 go from a <code>Natural</code> to an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code>, and provide you with tools to check if an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code> is
 a <code>Natural</code> and/or to edit one if it is.
</p><pre>
 <code>nat</code> :: <code><a href="Control-Lens-Type.html#t:Prism-39-">Prism'</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code> <code><a href="Numeric-Natural.html#t:Natural">Natural</a></code>
 <code>nat</code> = <code>prism</code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:toInteger">toInteger</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:-36-">$</a></code> \ i -&gt;
    if i <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#v:-60-">&lt;</a></code> 0
    then <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#v:Left">Left</a></code> i
    else <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#v:Right">Right</a></code> (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:fromInteger">fromInteger</a></code> i)
</pre><p>Now we can ask if an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code> is a <code>Natural</code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>5^?nat
</code></strong>Just 5
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(-5)^?nat
</code></strong>Nothing
</pre><p>We can update the ones that are:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(-3,4) &amp; both.nat *~ 2
</code></strong>(-3,8)
</pre><p>And we can then convert from a <code>Natural</code> to an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>5 ^. remit nat -- :: Natural
</code></strong>5
</pre><p>Similarly we can use a <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> to <code>traverse</code> the left half of an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a></code>:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Left &quot;hello&quot; &amp; _left %~ length
</code></strong>Left 5
</pre><p>or to construct an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a></code>:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>5^.remit _left
</code></strong>Left 5
</pre><p>such that if you query it with the <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code>, you will get your original input back.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>5^.remit _left ^? _left
</code></strong>Just 5
</pre><p>Another interesting way to think of a <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code> is as the categorical dual of a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>
 -- a <em>co</em>-<code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>, so to speak. This is what permits the construction of <code>outside</code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Prism-39-" class="def">Prism'</a> s a = <a href="Control-Lens-Type.html#t:Prism">Prism</a> s s a a<a href="src/Control-Lens-Type.html#Prism%27" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Prism">Prism</a></code>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Setter" class="def">Setter</a> s t a b = <span class="keyword">forall</span> f. <a href="Control-Lens-Internal.html#t:Settable">Settable</a> f =&gt; (a -&gt; f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#Setter" class="link">Source</a></p><div class="doc"><p>The only <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>-like law that can apply to a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> <code>l</code> is that
</p><pre><code>set</code> l y (<code>set</code> l x a) &#8801; <code>set</code> l y a</pre><p>You can't <code>view</code> a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> in general, so the other two laws are irrelevant.
</p><p>However, two <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a></code> laws apply to a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code>:
</p><pre>
 <code>over</code> l <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:id">id</a></code> &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:id">id</a></code>
 <code>over</code> l f <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> <code>over</code> l g &#8801; <code>over</code> l (f <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code> g)
</pre><p>These an be stated more directly:
</p><pre>
 l <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code> &#8801; <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#v:pure">pure</a></code>
 l f . <code><a href="Control-Lens-Internal.html#v:untainted">untainted</a></code> . l g &#8801; l (f . <code><a href="Control-Lens-Internal.html#v:untainted">untainted</a></code> . g)
</pre><p>You can compose a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> with a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> or a <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) from the Prelude
 and the result is always only a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> and nothing more.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>over traverse f [a,b,c,d]
</code></strong>[f a,f b,f c,f d]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>over _1 f (a,b)
</code></strong>(f a,b)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>over (traverse._1) f [(a,b),(c,d)]
</code></strong>[(f a,b),(f c,d)]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>over both f (a,b)
</code></strong>(f a,f b)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>over (traverse.both) f [(a,b),(c,d)]
</code></strong>[(f a,f b),(f c,f d)]
</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Setter-39-" class="def">Setter'</a> s a = <a href="Control-Lens-Type.html#t:Setter">Setter</a> s s a a<a href="src/Control-Lens-Type.html#Setter%27" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Setter-39-">Setter'</a></code> is just a <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> that doesn't change the types.
</p><p>These are particularly common when talking about monomorphic containers. <em>e.g.</em>
</p><pre><code>sets</code> Data.Text.map :: <code><a href="Control-Lens-Type.html#t:Setter-39-">Setter'</a></code> <code><a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></code> <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a></code></pre><pre>type <code><a href="Control-Lens-Type.html#t:Setter-39-">Setter'</a></code> = <code><a href="Control-Lens-Type.html#t:Setter-39-">Setter'</a></code></pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Equality" class="def">Equality</a> s t a b = <span class="keyword">forall</span> p f.  p a (f b) -&gt; p s (f t)<a href="src/Control-Lens-Type.html#Equality" class="link">Source</a></p><div class="doc"><p>A witness that <code>(a ~ s, b ~ t)</code>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Equality-39-" class="def">Equality'</a> s a = <a href="Control-Lens-Type.html#t:Equality">Equality</a> s s a a<a href="src/Control-Lens-Type.html#Equality%27" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Equality">Equality</a></code>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Getter" class="def">Getter</a> s a = <span class="keyword">forall</span> f. <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f =&gt; (a -&gt; f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#Getter" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> describes how to retrieve a single value in a way that can be
 composed with other lens-like constructions.
</p><p>Unlike a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> a <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> is read-only. Since a <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code>
 cannot be used to write back there are no lens laws that can be applied to
 it. In fact, it is isomorphic to an arbitrary function from <code>(a -&gt; s)</code>.
</p><p>Moreover, a <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> can be used directly as a <code><a href="Control-Lens-Fold.html#t:Fold">Fold</a></code>,
 since it just ignores the <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Fold" class="def">Fold</a> s a = <span class="keyword">forall</span> f. (<a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; (a -&gt; f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#Fold" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> describes how to retrieve multiple values in a way that can be composed
 with other lens-like constructions.
</p><p>A <code><code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> s a</code> provides a structure with operations very similar to those of the <code>Foldable</code>
 typeclass, see <code>foldMapOf</code> and the other <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> combinators.
</p><p>By convention, if there exists a <code>foo</code> method that expects a <code><code>Foldable</code> (f a)</code>, then there should be a
 <code>fooOf</code> method that takes a <code><code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> s a</code> and a value of type <code>s</code>.
</p><p>A <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> is a legal <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> that just ignores the supplied <code>Monoid</code>
</p><p>Unlike a <code><a href="Control-Lens-Traversal.html#t:Traversal">Traversal</a></code> a <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> is read-only. Since a <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> cannot be used to write back
 there are no lens laws that apply.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Action" class="def">Action</a> m s a = <span class="keyword">forall</span> f r. <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f =&gt; (a -&gt; f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#Action" class="link">Source</a></p><div class="doc"><p>An <code><a href="Control-Lens-Type.html#t:Action">Action</a></code> is a <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> enriched with access to a <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code> for side-effects.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> can be used as an <code><a href="Control-Lens-Type.html#t:Action">Action</a></code>
</p><p>You can compose an <code><a href="Control-Lens-Type.html#t:Action">Action</a></code> with another <code><a href="Control-Lens-Type.html#t:Action">Action</a></code> using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) from the <code>Prelude</code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadicFold" class="def">MonadicFold</a> m s a = <span class="keyword">forall</span> f r. (<a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; (a -&gt; f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#MonadicFold" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:MonadicFold">MonadicFold</a></code> is a <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> enriched with access to a <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code> for side-effects.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Fold">Fold</a></code> can be used as a <code><a href="Control-Lens-Type.html#t:MonadicFold">MonadicFold</a></code>, that simply ignores the access to the <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code>.
</p><p>You can compose a <code><a href="Control-Lens-Type.html#t:MonadicFold">MonadicFold</a></code> with another <code><a href="Control-Lens-Type.html#t:MonadicFold">MonadicFold</a></code> using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) from the <code>Prelude</code>.
</p></div></div><h1 id="g:2">Indexed Variants
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedLens" class="def">IndexedLens</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a> f) =&gt; p a (f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#IndexedLens" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Control-Lens-Type.html#t:IndexedLens">IndexedLens</a></code> is a valid <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> and a valid <code><a href="Control-Lens-Traversal.html#t:IndexedTraversal">IndexedTraversal</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedLens-39-" class="def">IndexedLens'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedLens">IndexedLens</a> i s s a a<a href="src/Control-Lens-Type.html#IndexedLens%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:IndexedLens-39-">IndexedLens'</a></code> i = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:IndexedLens">IndexedLens</a></code> i)</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedTraversal" class="def">IndexedTraversal</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#IndexedTraversal" class="link">Source</a></p><div class="doc"><p>Every indexed traversal is a valid <code><a href="Control-Lens-Traversal.html#t:Traversal">Traversal</a></code> or
 <code><a href="Control-Lens-Fold.html#t:IndexedFold">IndexedFold</a></code>.
</p><p>The <code><a href="Control-Lens-Internal.html#t:Indexed">Indexed</a></code> constraint is used to allow an <code><a href="Control-Lens-Type.html#t:IndexedTraversal">IndexedTraversal</a></code> to be used
 directly as a <code><a href="Control-Lens-Traversal.html#t:Traversal">Traversal</a></code>.
</p><p>The <code><a href="Control-Lens-Traversal.html#t:Traversal">Traversal</a></code> laws are still required to hold.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedTraversal-39-" class="def">IndexedTraversal'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedTraversal">IndexedTraversal</a> i s s a a<a href="src/Control-Lens-Type.html#IndexedTraversal%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:IndexedTraversal-39-">IndexedTraversal'</a></code> i = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:IndexedTraversal">IndexedTraversal</a></code> i)</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedSetter" class="def">IndexedSetter</a> i s t a b = <span class="keyword">forall</span> f p. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Settable">Settable</a> f) =&gt; p a (f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#IndexedSetter" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Control-Lens-Type.html#t:IndexedSetter">IndexedSetter</a></code> is a valid <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code>
</p><p>The <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code> laws are still required to hold.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedSetter-39-" class="def">IndexedSetter'</a> i s a = <a href="Control-Lens-Type.html#t:IndexedSetter">IndexedSetter</a> i s s a a<a href="src/Control-Lens-Type.html#IndexedSetter%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:IndexedSetter-39-">IndexedSetter'</a></code> i = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:IndexedSetter">IndexedSetter</a></code> i)</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedGetter" class="def">IndexedGetter</a> i s a = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f) =&gt; p a (f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#IndexedGetter" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Control-Lens-Type.html#t:IndexedGetter">IndexedGetter</a></code> is a valid <code><a href="Control-Lens-Fold.html#t:IndexedFold">IndexedFold</a></code> and <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedFold" class="def">IndexedFold</a> i s a = <span class="keyword">forall</span> p f. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f, <a href="Control-Lens-Internal.html#t:Gettable">Gettable</a> f) =&gt; p a (f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#IndexedFold" class="link">Source</a></p><div class="doc"><p>Every <code><a href="Control-Lens-Type.html#t:IndexedFold">IndexedFold</a></code> is a valid <code><a href="Control-Lens-Fold.html#t:Fold">Fold</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedAction" class="def">IndexedAction</a> i m s a = <span class="keyword">forall</span> p f r. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f) =&gt; p a (f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#IndexedAction" class="link">Source</a></p><div class="doc"><p>An <code><a href="Control-Lens-Type.html#t:IndexedAction">IndexedAction</a></code> is an <code><a href="Control-Lens-Type.html#t:IndexedGetter">IndexedGetter</a></code> enriched with access to a <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code> for side-effects.
</p><p>Every <code><a href="Control-Lens-Type.html#t:Getter">Getter</a></code> can be used as an <code><a href="Control-Lens-Type.html#t:Action">Action</a></code>
</p><p>You can compose an <code><a href="Control-Lens-Type.html#t:Action">Action</a></code> with another <code><a href="Control-Lens-Type.html#t:Action">Action</a></code> using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) from the <code>Prelude</code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedMonadicFold" class="def">IndexedMonadicFold</a> i m s a = <span class="keyword">forall</span> p f r. (<a href="Control-Lens-Internal.html#t:Indexable">Indexable</a> i p, <a href="Control-Lens-Internal.html#t:Effective">Effective</a> m r f, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p a (f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#IndexedMonadicFold" class="link">Source</a></p><div class="doc"><p>An <code><a href="Control-Lens-Type.html#t:IndexedMonadicFold">IndexedMonadicFold</a></code> is an <code><a href="Control-Lens-Type.html#t:IndexedFold">IndexedFold</a></code> enriched with access to a <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code> for side-effects.
</p><p>Every <code><a href="Control-Lens-Type.html#t:IndexedFold">IndexedFold</a></code> can be used as an <code><a href="Control-Lens-Type.html#t:IndexedMonadicFold">IndexedMonadicFold</a></code>, that simply ignores the access to the <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a></code>.
</p><p>You can compose an <code><a href="Control-Lens-Type.html#t:IndexedMonadicFold">IndexedMonadicFold</a></code> with another <code><a href="Control-Lens-Type.html#t:IndexedMonadicFold">IndexedMonadicFold</a></code> using (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:.">.</a></code>) from the <code>Prelude</code>.
</p></div></div><h1 id="g:3">Common
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Simple" class="def">Simple</a> f s a = f s s a a<a href="src/Control-Lens-Type.html#Simple" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>, <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>, ... can
 be used instead of a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>,<code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>, ...
 whenever the type variables don't change upon setting a value.
</p><pre>
 <code><a href="Data-Complex-Lens.html#v:imaginary">imaginary</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Complex.html#t:Complex">Complex</a></code> a) a
 <code><a href="Data-List-Lens.html#v:_head">_head</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:IndexedTraversal">IndexedTraversal</a></code> Int [a] a
</pre><p>Note: To use this alias in your own code with <code><code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f</code> or
 <code><a href="Control-Lens-Type.html#t:Setter">Setter</a></code>, you may have to turn on <code>LiberalTypeSynonyms</code>.
</p><p>This is commonly abbreviated as a &quot;prime&quot; marker, <em>e.g.</em> <code><a href="Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LensLike" class="def">LensLike</a> f s t a b = (a -&gt; f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#LensLike" class="link">Source</a></p><div class="doc"><p>Many combinators that accept a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> can also accept a
 <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code> in limited situations.
</p><p>They do so by specializing the type of <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a></code> that they require of the
 caller.
</p><p>If a function accepts a <code><code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f s t a b</code> for some <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Functor">Functor</a></code> <code>f</code>,
 then they may be passed a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>.
</p><p>Further, if <code>f</code> is an <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Applicative.html#t:Applicative">Applicative</a></code>, they may also be passed a
 <code><a href="Control-Lens-Type.html#t:Traversal">Traversal</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LensLike-39-" class="def">LensLike'</a> f s a = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> f s s a a<a href="src/Control-Lens-Type.html#LensLike%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:LensLike-39-">LensLike'</a></code> f = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f)</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedLensLike" class="def">IndexedLensLike</a> p f s t a b = p a (f b) -&gt; s -&gt; f t<a href="src/Control-Lens-Type.html#IndexedLensLike" class="link">Source</a></p><div class="doc"><p>Convenient alias for constructing indexed lenses and their ilk
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:IndexedLensLike-39-" class="def">IndexedLensLike'</a> p f s a = p a (f a) -&gt; s -&gt; f s<a href="src/Control-Lens-Type.html#IndexedLensLike%27" class="link">Source</a></p><div class="doc"><p>Convenient alias for constructing simple indexed lenses and their ilk
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Overloading" class="def">Overloading</a> p q f s t a b = p a (f b) -&gt; q s (f t)<a href="src/Control-Lens-Type.html#Overloading" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f s t a b = <code><a href="Control-Lens-Type.html#t:Overloading">Overloading</a></code> (-&gt;) (-&gt;) f s t a b</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Overloading-39-" class="def">Overloading'</a> p q f s a = <a href="Control-Lens-Type.html#t:Overloading">Overloading</a> p q f s s a a<a href="src/Control-Lens-Type.html#Overloading%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:Overloading-39-">Overloading'</a></code> p q f s a = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:Overloading">Overloading</a></code> p q f) s a</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Overloaded" class="def">Overloaded</a> p f s t a b = p a (f b) -&gt; p s (f t)<a href="src/Control-Lens-Type.html#Overloaded" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:LensLike">LensLike</a></code> f s t a b = <code><a href="Control-Lens-Type.html#t:Overloaded">Overloaded</a></code> (-&gt;) f s t a b</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Overloaded-39-" class="def">Overloaded'</a> p f s a = <a href="Control-Lens-Type.html#t:Overloaded">Overloaded</a> p f s s a a<a href="src/Control-Lens-Type.html#Overloaded%27" class="link">Source</a></p><div class="doc"><pre>type <code><a href="Control-Lens-Type.html#t:Overloaded-39-">Overloaded'</a></code> p q f s a = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> (<code><a href="Control-Lens-Type.html#t:Overloaded">Overloaded</a></code> p q f) s a</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>