<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Lens.Wrapped</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Lens-Wrapped.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Control-Lens-Wrapped.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-3.7: Lenses, Folds and Traversals</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>Rank2, MPTCs, fundeps</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Control.Lens.Wrapped</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The <code><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a></code> class provides similar functionality as <code>Control.Newtype</code>,
 from the <code>newtype</code> package, but in a more convenient and efficient form.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span>  <a href="#t:Wrapped">Wrapped</a> s t a b | a -&gt; s, b -&gt; t, a t -&gt; s, b s -&gt; t <span class="keyword">where</span><ul class="subs"><li><a href="#v:wrapped">wrapped</a> :: <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s t a b</li></ul></li><li class="src short"><a href="#v:wrapping">wrapping</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s s a a</li><li class="src short"><a href="#v:unwrapping">unwrapping</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> a a s s</li><li class="src short"><a href="#v:wrappings">wrappings</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s t a b =&gt; (s -&gt; a) -&gt; (t -&gt; b) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s t a b</li><li class="src short"><a href="#v:unwrappings">unwrappings</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> t s b a =&gt; (s -&gt; a) -&gt; (t -&gt; b) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> a b s t</li><li class="src short"><a href="#v:op">op</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; a -&gt; s</li><li class="src short"><a href="#v:ala">ala</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; ((s -&gt; a) -&gt; e -&gt; a) -&gt; e -&gt; s</li><li class="src short"><a href="#v:alaf">alaf</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; ((r -&gt; a) -&gt; e -&gt; a) -&gt; (r -&gt; s) -&gt; e -&gt; s</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Wrapped" class="def">Wrapped</a> s t a b | a -&gt; s, b -&gt; t, a t -&gt; s, b s -&gt; t <span class="keyword">where</span><a href="src/Control-Lens-Wrapped.html#Wrapped" class="link">Source</a></p><div class="doc"><p><code><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a></code> provides isomorphisms to wrap and unwrap newtypes or
 data types with one constructor.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:wrapped" class="def">wrapped</a> :: <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s t a b<a href="src/Control-Lens-Wrapped.html#wrapped" class="link">Source</a></p><div class="doc"><p>An isomorphism between s and <code>a</code> and a related one between <code>t</code> and <code>b</code>, such that when <code>a = b</code>, <code>s = t</code>.
</p><p>This is often used via <code><a href="Control-Lens-Wrapped.html#v:wrapping">wrapping</a></code> to aid type inference.
</p></div></div><div class="subs instances"><p id="control.i:Wrapped" class="caption collapser" onclick="toggleSection('i:Wrapped')">Instances</p><div id="section.i:Wrapped" class="show"><table><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> Bool Bool Any Any</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> Bool Bool All All</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String AssertionFailed AssertionFailed</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String ErrorCall ErrorCall</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String RecUpdError RecUpdError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String RecSelError RecSelError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String RecConError RecConError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String PatternMatchFail PatternMatchFail</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> String String NoMethodError NoMethodError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a a' (Identity a) (Identity a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a b (Product a) (Product b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a b (Sum a) (Sum b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a a' (Constant a b) (Constant a' b')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> a b (Const a x) (Const b y)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> [a] [b] (ZipList a) (ZipList b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (Maybe a) (Maybe b) (Last a) (Last b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (Maybe a) (Maybe b) (First a) (First b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (f a) (f' a') (Reverse f a) (Reverse f' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m (Maybe a)) (m' (Maybe a')) (MaybeT m a) (MaybeT m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m [a]) (m' [a']) (ListT m a) (ListT m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(Applicative f, Applicative g) =&gt; <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (f a) (g b) (Lift f a) (Lift g b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m a) (m' a') (IdentityT m a) (IdentityT m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (f a) (f' a') (Backwards f a) (Backwards f' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m a) (n b) (WrappedMonad m a) (WrappedMonad n b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (w (m -&gt; a)) (w' (m' -&gt; a')) (TracedT m w a) (TracedT m' w' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m (a, w)) (m' (a', w')) (WriterT w m a) (WriterT w' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m (a, w)) (m' (a', w')) (WriterT w m a) (WriterT w' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m (Either e a)) (m' (Either e' a')) (ErrorT e m a) (ErrorT e' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (f (g a)) (f' (g' a')) (Compose f g a) (Compose f' g' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (a -&gt; a) (b -&gt; b) (Endo a) (Endo b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(ArrowApply m, ArrowApply n) =&gt; <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (m () a) (n () b) (ArrowMonad m a) (ArrowMonad n b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> ((a -&gt; m r) -&gt; m r) ((a' -&gt; m' r') -&gt; m' r') (ContT r m a) (ContT r' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (s -&gt; m (a, s)) (s' -&gt; m' (a', s')) (StateT s m a) (StateT s' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (s -&gt; m (a, s)) (s' -&gt; m' (a', s')) (StateT s m a) (StateT s' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (r -&gt; m a) (r' -&gt; m' a') (ReaderT r m a) (ReaderT r' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (a -&gt; m b) (u -&gt; n v) (Kleisli m a b) (Kleisli n u v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (Either (f a) (g a)) (Either (f' a') (g' a')) (Coproduct f g a) (Coproduct f' g' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (a b c) (u v w) (WrappedArrow a b c) (WrappedArrow u v w)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (r -&gt; s -&gt; m (a, s, w)) (r' -&gt; s' -&gt; m' (a', s', w')) (RWST r w s m a) (RWST r' w' s' m' a')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (r -&gt; s -&gt; m (a, s, w)) (r' -&gt; s' -&gt; m' (a', s', w')) (RWST r w s m a) (RWST r' w' s' m' a')</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:wrapping" class="def">wrapping</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s s a a<a href="src/Control-Lens-Wrapped.html#wrapping" class="link">Source</a></p><div class="doc"><p>This is a convenient version of <code><a href="Control-Lens-Wrapped.html#v:wrapped">wrapped</a></code> with an argument that's ignored.
</p><p>The argument is used to specify which newtype the user intends to wrap
 by using the constructor for that newtype.
</p><p>The user supplied function is <em>ignored</em>, merely its type is used.
</p></div></div><div class="top"><p class="src"><a name="v:unwrapping" class="def">unwrapping</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> a a s s<a href="src/Control-Lens-Wrapped.html#unwrapping" class="link">Source</a></p><div class="doc"><p>This is a convenient version of <code>unwrapped</code> with an argument that's ignored.
</p><p>The argument is used to specify which newtype the user intends to <em>remove</em>
 by using the constructor for that newtype.
</p><p>The user supplied function is <em>ignored</em>, merely its type is used.
</p></div></div><div class="top"><p class="src"><a name="v:wrappings" class="def">wrappings</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s t a b =&gt; (s -&gt; a) -&gt; (t -&gt; b) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> s t a b<a href="src/Control-Lens-Wrapped.html#wrappings" class="link">Source</a></p><div class="doc"><p>This is a convenient version of <code><a href="Control-Lens-Wrapped.html#v:wrapped">wrapped</a></code> with two arguments that are ignored.
</p><p>These arguments are used to which newtype the user intends to wrap and
 should both be the same constructor.  This redundency is necessary
 in order to find the full polymorphic isomorphism family.
</p><p>The user supplied functions are <em>ignored</em>, merely their types are used.
</p></div></div><div class="top"><p class="src"><a name="v:unwrappings" class="def">unwrappings</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> t s b a =&gt; (s -&gt; a) -&gt; (t -&gt; b) -&gt; <a href="Control-Lens-Iso.html#t:Iso">Iso</a> a b s t<a href="src/Control-Lens-Wrapped.html#unwrappings" class="link">Source</a></p><div class="doc"><p>This is a convenient version of <code>unwrapped</code> with two arguments that are ignored.
</p><p>These arguments are used to which newtype the user intends to remove and
 should both be the same constructor. This redundency is necessary
 in order to find the full polymorphic isomorphism family.
</p><p>The user supplied functions are <em>ignored</em>, merely their types are used.
</p></div></div><div class="top"><p class="src"><a name="v:op" class="def">op</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; a -&gt; s<a href="src/Control-Lens-Wrapped.html#op" class="link">Source</a></p><div class="doc"><p>Given the constructor for a <code>Wrapped</code> type, return a
 deconstructor that is its inverse.
</p><p>Assuming the <code>Wrapped</code> instance is legal, these laws hold:
</p><pre>
 <code><a href="Control-Lens-Wrapped.html#v:op">op</a></code> f <code>.</code> f &#8801; <code>id</code>
 f <code>.</code> <code><a href="Control-Lens-Wrapped.html#v:op">op</a></code> f &#8801; <code>id</code>
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>op Identity (Identity 4)
</code></strong>4
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>op Const (Const &quot;hello&quot;)
</code></strong>&quot;hello&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:ala" class="def">ala</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; ((s -&gt; a) -&gt; e -&gt; a) -&gt; e -&gt; s<a href="src/Control-Lens-Wrapped.html#ala" class="link">Source</a></p><div class="doc"><p>This combinator is based on <code>ala</code> from Conor McBride's work on Epigram.
</p><p>As with <code><a href="Control-Lens-Wrapped.html#v:wrapping">wrapping</a></code>, the user supplied function for the newtype is <em>ignored</em>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala Sum foldMap [1,2,3,4]
</code></strong>10
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala All foldMap [True,True]
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala All foldMap [True,False]
</code></strong>False
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala Any foldMap [False,False]
</code></strong>False
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala Any foldMap [True,False]
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala Sum foldMap [1,2,3,4]
</code></strong>10
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ala Product foldMap [1,2,3,4]
</code></strong>24
</pre></div></div><div class="top"><p class="src"><a name="v:alaf" class="def">alaf</a> :: <a href="Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> s s a a =&gt; (s -&gt; a) -&gt; ((r -&gt; a) -&gt; e -&gt; a) -&gt; (r -&gt; s) -&gt; e -&gt; s<a href="src/Control-Lens-Wrapped.html#alaf" class="link">Source</a></p><div class="doc"><p>This combinator is based on <code>ala'</code> from Conor McBride's work on Epigram.
</p><p>As with <code><a href="Control-Lens-Wrapped.html#v:wrapping">wrapping</a></code>, the user supplied function for the newtype is <em>ignored</em>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>alaf Sum foldMap length [&quot;hello&quot;,&quot;world&quot;]
</code></strong>10
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.1</p></div></body></html>