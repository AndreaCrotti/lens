<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Lens.Zipper</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Lens-Zipper.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Control-Lens-Zipper.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-3.0.4: Lenses, Folds and Traversals</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Control.Lens.Zipper</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Zippers
</a><ul><li><a href="#g:2">Focusing
</a></li><li><a href="#g:3">Horizontal movement
</a></li><li><a href="#g:4">Lateral movement
</a></li><li><a href="#g:5">Closing the Zipper
</a></li><li><a href="#g:6">Saving your Progress
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code> with fairly strong type checking guarantees.
</p><p>The code here is inspired by Brandon Simmons' <code>zippo</code> package, but uses
 a slightly different approach to represent the <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code> that makes the whole thing
 look like his breadcrumb trail, and can move side-to-side through traversals.
</p><p>Some examples types:
</p><dl><dt><code><code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> a</code></dt><dd> represents a trivial <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code> with its focus at the root.
</dd><dt><code><code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> a <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> a</code></dt><dd> represents a zipper that starts with a 
   <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> and descends in a single step to values of type <code>a</code>.
</dd><dt><code><code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> a <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> a <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> a</code></dt><dd> represents a <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code> into a
   <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code> with an intermediate bookmarked <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code>,
   focusing in yet another <code><a href="/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Tree.html#t:Tree">Tree</a></code>.
</dd></dl><p>Since individual levels of a zipper are managed by an arbitrary <code>Traversal</code>,
 you can move left and right through the <code>Traversal</code> selecting neighboring elements.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>zipper (&quot;hello&quot;,&quot;world&quot;) % down _1 % fromWithin traverse % focus .~ 'J' % rightmost % focus .~ 'y' % rezip
</code></strong>(&quot;Jelly&quot;,&quot;world&quot;)
</pre><p>This is particularly powerful when compiled with <code><a href="Control-Lens-Plated.html#v:plate">plate</a></code>,
 <code><a href="Data-Data-Lens.html#t:uniplate">uniplate</a></code> or <code><a href="Data-Data-Lens.html#t:biplate">biplate</a></code> for walking down into
 self-similar children in syntax trees and other structures.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Top">Top</a> </li><li class="src short"><span class="keyword">data</span>  p <a href="#t::-62-">:&gt;</a> a</li><li class="src short"><a href="#v:zipper">zipper</a> ::  a -&gt; <a href="Control-Lens-Zipper.html#t:Top">Top</a> <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a</li><li class="src short"><a href="#v:focus">focus</a> ::  <a href="Control-Lens-IndexedLens.html#t:SimpleIndexedLens">SimpleIndexedLens</a> (<a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)) (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) a</li><li class="src short"><a href="#v:up">up</a> ::  ((a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:down">down</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Context">Context</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c</li><li class="src short"><a href="#v:within">within</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Bazaar">Bazaar</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> ((a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c)</li><li class="src short"><a href="#v:fromWithin">fromWithin</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Bazaar">Bazaar</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c</li><li class="src short"><a href="#v:left">left</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)</li><li class="src short"><a href="#v:left1">left1</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:lefts">lefts</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)</li><li class="src short"><a href="#v:lefts1">lefts1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a</li><li class="src short"><a href="#v:leftmost">leftmost</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:right">right</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)</li><li class="src short"><a href="#v:right1">right1</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:rights">rights</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)</li><li class="src short"><a href="#v:rights1">rights1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a</li><li class="src short"><a href="#v:rightmost">rightmost</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:goto">goto</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)</li><li class="src short"><a href="#v:goto1">goto1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b</li><li class="src short"><a href="#v:coordinate">coordinate</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:width">width</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:rezip">rezip</a> :: <a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> h a =&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a</li><li class="src short"><span class="keyword">type family</span> <a href="#t:Zipped">Zipped</a> h a </li><li class="src short"><span class="keyword">class</span>  <a href="#t:Zipper">Zipper</a> h a </li><li class="src short"><span class="keyword">data</span>  <a href="#t:Tape">Tape</a> k</li><li class="src short"><a href="#v:save">save</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)</li><li class="src short"><a href="#v:restore">restore</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)</li><li class="src short"><a href="#v:restore1">restore1</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)</li><li class="src short"><a href="#v:unsafelyRestore">unsafelyRestore</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a</li></ul></div><div id="interface"><h1 id="g:1">Zippers
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Top" class="def">Top</a>  <a href="src/Control-Lens-Zipper.html#Top" class="link">Source</a></p><div class="doc"><p>This is used to represent the <code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> of the <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code>.
</p><p>Every <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code> starts with <code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code>.
</p><p><em>e.g.</em> <code><code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> a</code> is the trivial zipper.
</p></div><div class="subs instances"><p id="control.i:Top" class="caption collapser" onclick="toggleSection('i:Top')">Instances</p><div id="section.i:Top" class="show"><table><tr><td class="src"><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> <a href="Control-Lens-Zipper.html#t:Top">Top</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  p <a name="t::-62-" class="def">:&gt;</a> a <a href="src/Control-Lens-Zipper.html#%3A%3E" class="link">Source</a></p><div class="doc"><p>This is the type of a <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code>. It visually resembes a 'breadcrumb trail' as
 used in website navigation. Each breadcrumb in the trail represents a level you
 can move up to.
</p><p>This type operator associates to the right, so you can use a type like
</p><pre><code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> (<code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></code>,<code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Prelude.html#t:Double">Double</a></code>) <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></code> <code><a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a></code> <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Char.html#t:Char">Char</a></code></pre><p>to represent a zipper from <code>(<code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></code>,<code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Prelude.html#t:Double">Double</a></code>)</code> down to <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Char.html#t:Char">Char</a></code> that has an intermediate
 crumb for the <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-String.html#t:String">String</a></code> containing the <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Char.html#t:Char">Char</a></code>.
</p></div><div class="subs instances"><p id="control.i::-62-" class="caption collapser" onclick="toggleSection('i::-62-')">Instances</p><div id="section.i::-62-" class="show"><table><tr><td class="src"><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> h b =&gt; <a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> (<a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> h b) c</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:zipper" class="def">zipper</a> ::  a -&gt; <a href="Control-Lens-Zipper.html#t:Top">Top</a> <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a<a href="src/Control-Lens-Zipper.html#zipper" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> that can explore anything.
</p></div></div><h2 id="g:2">Focusing
</h2><div class="top"><p class="src"><a name="v:focus" class="def">focus</a> ::  <a href="Control-Lens-IndexedLens.html#t:SimpleIndexedLens">SimpleIndexedLens</a> (<a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)) (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) a<a href="src/Control-Lens-Zipper.html#focus" class="link">Source</a></p><div class="doc"><p>This <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> views the current target of the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code>.
</p></div></div><h2 id="g:3">Horizontal movement
</h2><div class="top"><p class="src"><a name="v:up" class="def">up</a> ::  ((a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#up" class="link">Source</a></p><div class="doc"><p>Move the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code><a href="Control-Lens-Zipper.html#v:up">up</a></code>, closing the current level and focusing on the parent element.
</p></div></div><div class="top"><p class="src"><a name="v:down" class="def">down</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Context">Context</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c<a href="src/Control-Lens-Zipper.html#down" class="link">Source</a></p><div class="doc"><p>Step down into a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>. This is a constrained form of <code><a href="Control-Lens-Zipper.html#v:fromWithin">fromWithin</a></code> for when you know
 there is precisely one target.
</p><pre>
 <code><a href="Control-Lens-Zipper.html#v:down">down</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> b c -&gt; (a :&gt; b) -&gt; a :&gt; b :&gt; c
 <code><a href="Control-Lens-Zipper.html#v:down">down</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code>Iso</code> b c  -&gt; (a :&gt; b) -&gt; a :&gt; b :&gt; c
</pre></div></div><div class="top"><p class="src"><a name="v:within" class="def">within</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Bazaar">Bazaar</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> ((a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c)<a href="src/Control-Lens-Zipper.html#within" class="link">Source</a></p><div class="doc"><p>Step down into the <code><a href="Control-Lens-Zipper.html#v:leftmost">leftmost</a></code> entry of a <code>Traversal</code>.
</p><pre>
 <code><a href="Control-Lens-Zipper.html#v:within">within</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code>Traversal</code> b c -&gt; (a :&gt; b) -&gt; Maybe (a :&gt; b :&gt; c)
 <code><a href="Control-Lens-Zipper.html#v:within">within</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> b c      -&gt; (a :&gt; b) -&gt; Maybe (a :&gt; b :&gt; c)
 <code><a href="Control-Lens-Zipper.html#v:within">within</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code>Iso</code> b c       -&gt; (a :&gt; b) -&gt; Maybe (a :&gt; b :&gt; c)
</pre></div></div><div class="top"><p class="src"><a name="v:fromWithin" class="def">fromWithin</a> ::  <a href="Control-Lens-Type.html#t:SimpleLensLike">SimpleLensLike</a> (<a href="Control-Lens-Internal.html#t:Bazaar">Bazaar</a> c c) b c -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> c<a href="src/Control-Lens-Zipper.html#fromWithin" class="link">Source</a></p><div class="doc"><p>Unsafely step down into a <code>Traversal</code> that is <em>assumed</em> to be non-empty.
</p><p>If this invariant is not met then this will usually result in an error!
</p><pre>
 <code><a href="Control-Lens-Zipper.html#v:fromWithin">fromWithin</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code>Traversal</code> b c -&gt; (a :&gt; b) -&gt; a :&gt; b :&gt; c
 <code><a href="Control-Lens-Zipper.html#v:fromWithin">fromWithin</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> b c      -&gt; (a :&gt; b) -&gt; a :&gt; b :&gt; c
 <code><a href="Control-Lens-Zipper.html#v:fromWithin">fromWithin</a></code> :: <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code>Iso</code> b c       -&gt; (a :&gt; b) -&gt; a :&gt; b :&gt; c
</pre><p>You can reason about this function as if the definition was:
</p><pre><code><a href="Control-Lens-Zipper.html#v:fromWithin">fromWithin</a></code> l &#8801; <code>fromMaybe</code> <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Control-Category.html#v:.">.</a></code> <code><a href="Control-Lens-Zipper.html#v:within">within</a></code> l</pre><p>but it is lazier in such a way that if this invariant is violated, some code
 can still succeed if it is lazy enough in the use of the focused value.
</p></div></div><h2 id="g:4">Lateral movement
</h2><div class="top"><p class="src"><a name="v:left" class="def">left</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)<a href="src/Control-Lens-Zipper.html#left" class="link">Source</a></p><div class="doc"><p>Pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code><a href="Control-Lens-Zipper.html#v:left">left</a></code> within the current <code>Traversal</code>.
</p></div></div><div class="top"><p class="src"><a name="v:left1" class="def">left1</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#left1" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> one entry to the <code><a href="Control-Lens-Zipper.html#v:left">left</a></code>.
</p><p>If the entry to the left doesn't exist, then stay still.
</p></div></div><div class="top"><p class="src"><a name="v:lefts" class="def">lefts</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)<a href="src/Control-Lens-Zipper.html#lefts" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code>n</code> entries to the <code><a href="Control-Lens-Zipper.html#v:left">left</a></code>, returning <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> if you pull too far and run out of entries.
</p></div></div><div class="top"><p class="src"><a name="v:lefts1" class="def">lefts1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a<a href="src/Control-Lens-Zipper.html#lefts1" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code>n</code> entries to the <code><a href="Control-Lens-Zipper.html#v:left">left</a></code>. Stopping at the first entry if you run out of entries.
</p><p>Passing a negative <code>n</code> will move to <code>-n</code> entries the right, and will return the last entry if you run out of entries.
</p></div></div><div class="top"><p class="src"><a name="v:leftmost" class="def">leftmost</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#leftmost" class="link">Source</a></p><div class="doc"><p>Move to the left-most position of the current <code>Traversal</code>.
</p></div></div><div class="top"><p class="src"><a name="v:right" class="def">right</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)<a href="src/Control-Lens-Zipper.html#right" class="link">Source</a></p><div class="doc"><p>Pull the entry one entry to the <code><a href="Control-Lens-Zipper.html#v:right">right</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:right1" class="def">right1</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#right1" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> one entry to the <code><a href="Control-Lens-Zipper.html#v:right">right</a></code>.
</p><p>If the entry doesn't exist, then stay still.
</p></div></div><div class="top"><p class="src"><a name="v:rights" class="def">rights</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)<a href="src/Control-Lens-Zipper.html#rights" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code>n</code> entries to the <code><a href="Control-Lens-Zipper.html#v:right">right</a></code>, returning <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> if you pull too far and run out of entries.
</p><p>Passing a negative <code>n</code> will move <code>-n</code> entries to the <code><a href="Control-Lens-Zipper.html#v:left">left</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:rights1" class="def">rights1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a<a href="src/Control-Lens-Zipper.html#rights1" class="link">Source</a></p><div class="doc"><p>Try to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> <code>n</code> entries to the <code><a href="Control-Lens-Zipper.html#v:right">right</a></code>. Stopping at the last entry if you run out of entries.
</p><p>Passing a negative number will move to the left and will return the first entry if you run out of entries.
</p></div></div><div class="top"><p class="src"><a name="v:rightmost" class="def">rightmost</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#rightmost" class="link">Source</a></p><div class="doc"><p>Move to the right-most position of the current <code>Traversal</code>.
</p></div></div><div class="top"><p class="src"><a name="v:goto" class="def">goto</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)<a href="src/Control-Lens-Zipper.html#goto" class="link">Source</a></p><div class="doc"><p>Move the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> horizontally to the element in the <code>n</code>th position in the current level. (absolutely indexed, starting with the <code><a href="Control-Lens-Zipper.html#v:leftmost">leftmost</a></code> as <code>0</code>)
</p><p>This returns <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> if the target element doesn't exist.
</p><pre><code><a href="Control-Lens-Zipper.html#v:goto">goto</a></code> n = <code><a href="Control-Lens-Zipper.html#v:rights">rights</a></code> n . <code><a href="Control-Lens-Zipper.html#v:leftmost">leftmost</a></code></pre></div></div><div class="top"><p class="src"><a name="v:goto1" class="def">goto1</a> ::  <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a> -&gt; (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b<a href="src/Control-Lens-Zipper.html#goto1" class="link">Source</a></p><div class="doc"><p>Move the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> horizontally to the element in the <code>n</code>th position of the current level. (absolutely indexed, starting with the <code><a href="Control-Lens-Zipper.html#v:leftmost">leftmost</a></code> as <code>0</code>)
</p><p>If the element at that position doesn't exist, then this will clamp to the range <code>0 &lt;= n &lt; <code><a href="Control-Lens-Zipper.html#v:width">width</a></code> z</code> and return the element there.
</p></div></div><div class="top"><p class="src"><a name="v:coordinate" class="def">coordinate</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a><a href="src/Control-Lens-Zipper.html#coordinate" class="link">Source</a></p><div class="doc"><p>Return the index into the current <code>Traversal</code>.
</p><pre><code><a href="Control-Lens-Zipper.html#v:goto">goto</a></code> (<code><a href="Control-Lens-Zipper.html#v:coordinate">coordinate</a></code> l) l = Just'</pre></div></div><div class="top"><p class="src"><a name="v:width" class="def">width</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Int.html#t:Int">Int</a><a href="src/Control-Lens-Zipper.html#width" class="link">Source</a></p><div class="doc"><p>Returns the number of siblings at the current level in the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code>.
</p><pre><code><a href="Control-Lens-Zipper.html#v:width">width</a></code> z <code><a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Ord.html#v:-62--61-">&gt;=</a></code> 1</pre><p><em>NB:</em> If the current <code>Traversal</code> targets an infinite number of elements then this may not terminate.
</p></div></div><h2 id="g:5">Closing the Zipper
</h2><div class="top"><p class="src"><a name="v:rezip" class="def">rezip</a> :: <a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> h a =&gt; (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a<a href="src/Control-Lens-Zipper.html#rezip" class="link">Source</a></p><div class="doc"><p>Close something back up that you opened as a <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:Zipped" class="def">Zipped</a> h a <a href="src/Control-Lens-Zipper.html#Zipped" class="link">Source</a></p><div class="doc"><p>This represents the type a zipper will have when it is fully <code><a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a></code> back up.
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Zipper" class="def">Zipper</a> h a <a href="src/Control-Lens-Zipper.html#Zipper" class="link">Source</a></p><div class="doc"><p>This enables us to pull the <code><a href="Control-Lens-Zipper.html#v:zipper">zipper</a></code> back up to the <code><a href="Control-Lens-Zipper.html#t:Top">Top</a></code>.
</p></div><div class="subs instances"><p id="control.i:Zipper" class="caption collapser" onclick="toggleSection('i:Zipper')">Instances</p><div id="section.i:Zipper" class="show"><table><tr><td class="src"><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> <a href="Control-Lens-Zipper.html#t:Top">Top</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> h b =&gt; <a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a> (<a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> h b) c</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:6">Saving your Progress
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Tape" class="def">Tape</a> k <a href="src/Control-Lens-Zipper.html#Tape" class="link">Source</a></p><div class="doc"><p>A <code><a href="Control-Lens-Zipper.html#t:Tape">Tape</a></code> is a recorded path through the <code>Traversal</code> chain of a <code><a href="Control-Lens-Zipper.html#t:Zipper">Zipper</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:save" class="def">save</a> ::  (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b) -&gt; <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (a <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> b)<a href="src/Control-Lens-Zipper.html#save" class="link">Source</a></p><div class="doc"><p>Save the current path as as a <code><a href="Control-Lens-Zipper.html#t:Tape">Tape</a></code> we can play back later.
</p></div></div><div class="top"><p class="src"><a name="v:restore" class="def">restore</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)<a href="src/Control-Lens-Zipper.html#restore" class="link">Source</a></p><div class="doc"><p>Restore ourselves to a previously recorded position precisely.
</p><p>If the position does not exist, then fail.
</p></div></div><div class="top"><p class="src"><a name="v:restore1" class="def">restore1</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; <a href="/usr/share/doc/ghc/html/libraries/base-4.6.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a)<a href="src/Control-Lens-Zipper.html#restore1" class="link">Source</a></p><div class="doc"><p>Restore ourselves to a previously recorded position.
</p><p>When moving left to right through a <code>Traversal</code>, if this will clamp at each level to the range <code>0 &lt;= k &lt; width</code>,
 so the only failures will occur when one of the sequence of downward traversals find no targets.
</p></div></div><div class="top"><p class="src"><a name="v:unsafelyRestore" class="def">unsafelyRestore</a> ::  <a href="Control-Lens-Zipper.html#t:Tape">Tape</a> (h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a) -&gt; <a href="Control-Lens-Zipper.html#t:Zipped">Zipped</a> h a -&gt; h <a href="Control-Lens-Zipper.html#t::-62-">:&gt;</a> a<a href="src/Control-Lens-Zipper.html#unsafelyRestore" class="link">Source</a></p><div class="doc"><p>Restore ourselves to a previously recorded position.
</p><p>This assumes that nothing has been done in the meantime to affect the existence of anything on the entire path.
</p><p>Motions left or right are clamped, but all traversals included on the <code><a href="Control-Lens-Zipper.html#t:Tape">Tape</a></code> are assumed to be non-empty.
</p><p>Violate these assumptions at your own risk.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.12.0</p></div></body></html>